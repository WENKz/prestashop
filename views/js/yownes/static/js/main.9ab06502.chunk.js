(this.webpackJsonpbackoffice=this.webpackJsonpbackoffice||[]).push([[0],{101:function(e,a,t){e.exports={centerText:"auth_centerText__3D-rp",rightAlign:"auth_rightAlign__1W_pa",buttons:"auth_buttons__BnG_P"}},114:function(e,a,t){e.exports={info:"AppInfo_info__2BIeo",info__logo:"AppInfo_info__logo__1066u",info__appName:"AppInfo_info__appName__2AB9_",info__appId:"AppInfo_info__appId__3wrZU",info__stores:"AppInfo_info__stores__24f-7",info__state:"AppInfo_info__state__2LKXs",infoStores__link:"AppInfo_infoStores__link__3N9XN"}},157:function(e,a,t){e.exports={container:"Auth_container__1IMwB",content:"Auth_content__xjaiI",image:"Auth_image__1KelM",imageContainer:"Auth_imageContainer__3-dXS",logo:"Auth_logo__3PhOV"}},182:function(e,a,t){e.exports={container:"HeaderSessionInfo_container__KvdKl",info:"HeaderSessionInfo_info__NaBNB",title:"HeaderSessionInfo_title__1YV0Q",subtitle:"HeaderSessionInfo_subtitle__3Lx7W"}},219:function(e,a,t){e.exports={container:"AppPreview_container__wIHkI",preview:"AppPreview_preview__2a6pD",buttons:"AppPreview_buttons__Qzgai"}},221:function(e,a,t){e.exports={container:"TemplatePreview_container__6gEDa",image:"TemplatePreview_image__1-sPq",name:"TemplatePreview_name__3jPxL"}},222:function(e,a,t){e.exports={container:"TitleWithAction_container__1nMco",title:"TitleWithAction_title__2W4EN",action:"TitleWithAction_action___CN41"}},223:function(e,a,t){e.exports={container:"Placeholder_container__3EQo_",title:"Placeholder_title__7WaoD"}},225:function(e,a,t){e.exports={container:"TemplateSelector_container__zcVho",overlay:"TemplateSelector_overlay__3_Hpw",arrow:"TemplateSelector_arrow__1Jk_c"}},343:function(e,a,t){e.exports={container:"AdminHeader_container__3LkoF",links:"AdminHeader_links__36rFD"}},344:function(e,a,t){e.exports={upload:"FileUpload_upload__3FY9O"}},348:function(e,a,t){e.exports={container:"RateSelection_container__2-W83"}},35:function(e,a,t){e.exports={creditcard:"CreditCard_creditcard__1NRYJ",cardfront:"CreditCard_cardfront__uETpK",cardback:"CreditCard_cardback__2hIXe",ccsingle:"CreditCard_ccsingle__1Hj8r",lightcolor:"CreditCard_lightcolor__3MgFL",darkcolor:"CreditCard_darkcolor__2jhju",lightblue:"CreditCard_lightblue__3-1zg",lightbluedark:"CreditCard_lightbluedark__2ND_X",red:"CreditCard_red__2Nj4r",reddark:"CreditCard_reddark__xtOF6",purple:"CreditCard_purple__39QpX",purpledark:"CreditCard_purpledark__36AuB",cyan:"CreditCard_cyan__1bnO0",cyandark:"CreditCard_cyandark__3fzrp",green:"CreditCard_green__1veSt",greendark:"CreditCard_greendark__3Ii_N",lime:"CreditCard_lime__icYpK",limedark:"CreditCard_limedark__3Yifj",yellow:"CreditCard_yellow__3oIVA",yellowdark:"CreditCard_yellowdark__LNn2c",orange:"CreditCard_orange__2EvI5",orangedark:"CreditCard_orangedark__1vXb2",grey:"CreditCard_grey__3-Yks",greydark:"CreditCard_greydark__1sRMU",svgname:"CreditCard_svgname__1Jmhl",st2:"CreditCard_st2__2TZG5",st3:"CreditCard_st3__2Xm5K",st4:"CreditCard_st4__X8wkk",st5:"CreditCard_st5__1j-jG",st6:"CreditCard_st6__3gGwR",st7:"CreditCard_st7__OkFwB",st8:"CreditCard_st8__1EHts",st9:"CreditCard_st9__1T6_m",st10:"CreditCard_st10__2H1HA",st11:"CreditCard_st11__Z4CQo",st12:"CreditCard_st12__1My5d",front:"CreditCard_front__5OkOk"}},352:function(e,a,t){e.exports={container:"Header_container__2BfIk"}},353:function(e,a,t){e.exports={main:"Dashboard_main__2_2Wp"}},365:function(e,a,t){e.exports=t(603)},370:function(e,a,t){},371:function(e,a,t){},603:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(28),o=t.n(l),c=(t(370),t(32)),i=t(54),d=t(12);t(371);function u(e){var a=e.width,t=e.height;return n.createElement("svg",{width:a,height:t,viewBox:"0 0 150 52"},n.createElement("title",null,"Artboard"),n.createElement("g",{fill:"none",fillRule:"nonzero"},n.createElement("path",{d:"M46.465 35.43c.2.094.458.183.776.267.318.086.63.127.94.127 1 0 1.78-.23 2.343-.691.564-.463 1.072-1.211 1.526-2.245a81.844 81.844 0 01-3.202-7.19A64.151 64.151 0 0146.382 18h2.726c.2.847.439 1.761.722 2.74a74.474 74.474 0 002.057 6.13 55.49 55.49 0 001.253 2.994 77.023 77.023 0 001.798-5.875c.51-1.94.991-3.936 1.446-5.989H59a116.162 116.162 0 01-2.18 7.98 83.63 83.63 0 01-2.59 7.161c-.363.847-.74 1.577-1.13 2.19a6.55 6.55 0 01-1.294 1.511 4.663 4.663 0 01-1.595.875c-.59.19-1.259.283-2.003.283-.2 0-.409-.013-.626-.043a6.572 6.572 0 01-.641-.113 6.216 6.216 0 01-.572-.155 2.727 2.727 0 01-.369-.141l.465-2.119zM72.216 24.5c0-1.611-.378-2.888-1.133-3.832-.756-.944-1.784-1.414-3.084-1.414s-2.329.47-3.083 1.414c-.756.944-1.134 2.22-1.134 3.832 0 1.613.378 2.89 1.134 3.832.754.944 1.783 1.414 3.083 1.414 1.3 0 2.328-.47 3.084-1.414.755-.943 1.133-2.22 1.133-3.832m2.784 0c0 1.135-.173 2.161-.518 3.076a6.974 6.974 0 01-1.448 2.363 6.343 6.343 0 01-2.223 1.524c-.862.358-1.798.537-2.812.537-1.014 0-1.95-.179-2.811-.537a6.318 6.318 0 01-2.223-1.524 6.953 6.953 0 01-1.449-2.363c-.344-.915-.516-1.94-.516-3.076 0-1.117.172-2.138.516-3.063.344-.925.827-1.716 1.449-2.376a6.318 6.318 0 012.223-1.524c.86-.358 1.797-.537 2.811-.537s1.95.179 2.812.537c.86.356 1.601.864 2.223 1.524.62.66 1.104 1.45 1.448 2.376.345.925.518 1.946.518 3.063M90.801 32a122.472 122.472 0 01-1.686-4.745 78.563 78.563 0 01-1.63-5.553 85.566 85.566 0 01-1.615 5.553c-.585 1.78-1.143 3.36-1.671 4.745h-2.297c-.869-1.98-1.719-4.24-2.55-6.778-.831-2.54-1.616-5.28-2.352-8.222h2.834c.188.903.415 1.884.68 2.941.263 1.059.543 2.118.836 3.173.292 1.059.6 2.078.921 3.059.321.981.624 1.837.906 2.567.322-.903.639-1.86.95-2.87.312-1.009.61-2.03.893-3.058.284-1.029.553-2.038.808-3.029.254-.99.476-1.918.666-2.783h2.182c.17.865.377 1.793.624 2.783a117.198 117.198 0 001.686 6.088c.31 1.01.627 1.966.95 2.869.283-.73.58-1.586.892-2.567a108.424 108.424 0 001.772-6.232A81.86 81.86 0 0095.28 17H98a120.661 120.661 0 01-2.352 8.222c-.832 2.538-1.682 4.797-2.551 6.778h-2.296zM101 17.734c.609-.151 1.418-.311 2.429-.48 1.01-.17 2.171-.254 3.485-.254 1.181 0 2.162.164 2.943.494.78.33 1.404.79 1.872 1.383.467.594.795 1.305.985 2.133.19.83.286 1.743.286 2.74V32h-2.657v-7.685c0-.903-.062-1.674-.186-2.316-.124-.64-.33-1.158-.614-1.554a2.439 2.439 0 00-1.143-.86c-.476-.18-1.067-.269-1.772-.269-.284 0-.581.01-.885.028a19.71 19.71 0 00-.872.07c-.276.029-.525.062-.742.1-.22.037-.376.066-.472.085V32H101V17.734zM126.222 23.138c.02-1.156-.282-2.106-.902-2.85-.62-.742-1.474-1.113-2.562-1.113-.612 0-1.151.114-1.618.343a3.833 3.833 0 00-1.188.894c-.325.368-.58.79-.76 1.267a6.03 6.03 0 00-.358 1.459h7.388zM116 24.542c0-1.266.19-2.371.572-3.318.383-.943.887-1.728 1.519-2.352a6.202 6.202 0 012.176-1.404 7.038 7.038 0 012.519-.468c2.004 0 3.542.602 4.61 1.803 1.068 1.202 1.604 3.031 1.604 5.49v.427c0 .175-.01.335-.03.482h-10.192c.115 1.486.562 2.614 1.345 3.385.782.77 2.004 1.157 3.665 1.157.936 0 1.723-.078 2.363-.234.64-.156 1.12-.309 1.447-.455l.37 2.147c-.324.165-.892.34-1.704.522-.81.184-1.73.276-2.763.276-1.298 0-2.418-.188-3.363-.564-.945-.377-1.723-.894-2.334-1.556a6.274 6.274 0 01-1.36-2.353c-.297-.908-.444-1.903-.444-2.985M136.387 29.826c1.034 0 1.803-.138 2.302-.414.5-.275.749-.715.749-1.32 0-.624-.245-1.12-.735-1.487-.491-.367-1.3-.78-2.426-1.237a37.025 37.025 0 01-1.566-.675c-.5-.23-.931-.5-1.294-.812a3.514 3.514 0 01-.871-1.128c-.22-.441-.327-.982-.327-1.624 0-1.266.462-2.27 1.388-3.013.927-.743 2.19-1.116 3.787-1.116.4 0 .8.025 1.2.07.4.046.772.102 1.117.165.345.065.65.133.912.207.264.074.468.136.614.192l-.463 2.202c-.273-.147-.7-.298-1.282-.455-.58-.155-1.28-.234-2.098-.234-.707 0-1.326.143-1.853.428-.526.283-.79.729-.79 1.333 0 .312.06.588.178.827s.3.453.544.646c.246.193.55.372.914.537.363.166.799.339 1.309.522.67.257 1.27.51 1.796.758.528.247.978.535 1.35.865.372.332.659.73.858 1.199.2.468.3 1.04.3 1.72 0 1.32-.486 2.32-1.458 2.999-.972.68-2.356 1.019-4.155 1.019-1.254 0-2.234-.107-2.942-.317-.71-.21-1.19-.372-1.445-.481l.463-2.202c.29.11.753.274 1.389.495.637.22 1.48.33 2.535.33",fill:"#4B4A4B"}),n.createElement("path",{d:"M36.123 8.426c-2.393-1.354-6.326.593-8.73 4.798-.942 1.647-1.51 3.339-1.716 4.87-.003.022-.011.035-.014.057l-.023.25c-.01.097-.022.196-.03.292-.202 1.943-.649 4.983-.649 4.983l.001.001c-.677 2.742-1.937 5.985-4.22 7.373-1.094.584-1.933.464-2.261.376-.765-.305-1.711-1.02-2.275-2.713-1.059-3.18.42-7.55.42-7.55l-.019.018c.753-2.369.462-4.53-.898-5.299-1.758-.993-4.616.704-6.38 3.792-1.767 3.088-1.772 6.397-.014 7.39.348.198.75.262 1.168.256l-.028.029c2.602.08 3.471.822 4.615 2.593.958 1.484.373 4.705.04 6.157a6.31 6.31 0 00-.146.59l-.039.15.007-.001c-.243 1.349.031 2.503.842 2.96 1.25.707 3.283-.5 4.538-2.696a7.97 7.97 0 00.352-.706c.023-.04.045-.072.07-.126.632-1.41 1.406-3.911 3.843-7.389 1.054-1.503 2.736-3.034 4.305-4.29.098-.08.201-.162.312-.244.011-.01.022-.018.033-.026.79-.585 1.84-1.197 2.286-1.451.07-.04.139-.076.208-.118l.017-.01h-.002c1.546-.944 3.1-2.557 4.326-4.616 2.69-4.514 2.455-8.347.061-9.7M34.252 27.387c-2.337-1.353-6.138.958-8.486 5.162-2.348 4.205-2.356 8.71-.018 10.064 2.339 1.353 6.138-.958 8.486-5.162 2.348-4.205 2.356-8.711.018-10.064",fill:"#00DC99"})))}u.defaultProps={width:150,height:52};var s=u,m=t(218),p=function(e){var a=e.color,t=e.size,n=Object(m.a)(e,["color","size"]);return r.a.createElement("span",Object.assign({style:{backgroundColor:a,width:t,height:t,display:"inline-block"}},n))};p.defaultProps={size:40};var v=p,E=t(157),f=t.n(E),h=function(e){var a=e.image,t=e.children;return r.a.createElement("main",{className:f.a.container},r.a.createElement("div",{className:f.a.content},r.a.createElement("div",{className:f.a.logo},r.a.createElement(s,{width:300,height:104})),t),r.a.createElement("div",{className:f.a.imageContainer},r.a.createElement("img",{alt:"",src:a,className:f.a.image})))},b=t(607),g=t(360),_=t(612),y=t(59),k=t(101),O=t.n(k),I=function(){return r.a.createElement(h,{image:"https://images.unsplash.com/photo-1593642634402-b0eb5e2eebc9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80"},r.a.createElement("div",null,r.a.createElement("h1",{className:O.a.centerText},"Olvidaste la contrase\xf1a"),r.a.createElement(b.a,{onFinish:function(e){g.a.open({message:"Recuperar contrase\xf1a",description:" Se ha enviado al mail un correo de recuperaci\xf3n de la contrase\xf1a. Pincha en el enlace del correo para crear una nueva."})}},r.a.createElement(b.a.Item,{name:"email",rules:[{required:!0,message:"Introduce tu mail"},{type:"email"}]},r.a.createElement(_.a,{placeholder:"Mail"})),r.a.createElement("div",{className:O.a.buttons},r.a.createElement(y.a,{block:!0,type:"ghost"},r.a.createElement(c.b,{to:"/auth/login",style:{display:"block"}},"Iniciar sesi\xf3n")),r.a.createElement(y.a,{block:!0,type:"primary",htmlType:"submit"},"Enviar correo")))))},C=t(33),j=t(41),w=t(48);function A(){var e=Object(w.a)(["\n  mutation Unsubscribe($userId: ID!) {\n    dropOut(userId: $userId) {\n      ok\n      error\n    }\n  }\n"]);return A=function(){return e},e}function N(){var e=Object(w.a)(["\n  mutation Subscribe($paymentMethodId: ID!, $planId: ID!) {\n    subscribe(paymentMethodId: $paymentMethodId, planId: $planId) {\n      ok\n      error\n    }\n  }\n"]);return N=function(){return e},e}function x(){var e=Object(w.a)(["\n  mutation AddPaymentMethod($paymentMethodId: ID!) {\n    addPaymentMethod(paymentMethodId: $paymentMethodId) {\n      ok\n      error\n    }\n  }\n"]);return x=function(){return e},e}function S(){var e=Object(w.a)(["\n   mutation BanUser($ban: Boolean!, $userId: ID!) {\n     banUser(ban: $ban, userId: $userId) {\n       ok\n       error\n     }\n   }\n "]);return S=function(){return e},e}function T(){var e=Object(w.a)(["\n  mutation DeleteAccount($password: String!) {\n    deleteAccount(password: $password) {\n      success\n      errors\n    }\n  }\n "]);return T=function(){return e},e}function M(){var e=Object(w.a)(["\n  mutation CreateApp($data: StoreAppInput!) {\n    createApp(data: $data) {\n      ok\n      error\n      storeApp {\n        id\n      }\n    }\n  }\n"]);return M=function(){return e},e}function P(){var e=Object(w.a)(["\n  mutation ModifyAppPayment($data: PaymentMethodAppInput!, $appId: ID!) {\n    modifyPaymentMethodApp(data: $data, storeAppId: $appId) {\n      ok\n      error\n    }\n  }\n"]);return P=function(){return e},e}function D(){var e=Object(w.a)(["\n  mutation DeleteApp($id: ID!) {\n    deleteApp(id: $id) {\n      ok\n      error\n    }\n  }\n"]);return D=function(){return e},e}function L(){var e=Object(w.a)(["\n  mutation UpdateApp($data: StoreAppInput!, $id: ID!) {\n    updateApp(data: $data, id: $id) {\n      ok\n      error\n    }\n  }\n"]);return L=function(){return e},e}function $(){var e=Object(w.a)(["\n  mutation PasswordChange(\n    $oldPassword: String!\n    $newPassword1: String!\n    $newPassword2: String!\n  ) {\n    passwordChange(\n      oldPassword: $oldPassword\n      newPassword1: $newPassword1\n      newPassword2: $newPassword2\n    ) {\n      success\n      errors\n      token\n      refreshToken\n    }\n  }\n"]);return $=function(){return e},e}function q(){var e=Object(w.a)(["\n  mutation RefreshToken($refreshToken: String!) {\n    refreshToken(refreshToken: $refreshToken) {\n      token\n      refreshToken\n      success\n      errors\n    }\n  }\n"]);return q=function(){return e},e}function F(){var e=Object(w.a)(["\n  mutation VerifyAccount($token: String!) {\n    verifyAccount(token: $token) {\n      success\n      errors\n    }\n  }\n"]);return F=function(){return e},e}function R(){var e=Object(w.a)(["\n  mutation VerifyToken($token: String!) {\n    verifyToken(token: $token) {\n      payload\n      success\n      errors\n    }\n  }\n"]);return R=function(){return e},e}function G(){var e=Object(w.a)(["\n  mutation Register(\n    $email: String!\n    $username: String!\n    $password1: String!\n    $password2: String!\n  ) {\n    register(\n      email: $email\n      username: $username\n      password1: $password1\n      password2: $password2\n    ) {\n      success\n      errors\n      token\n      refreshToken\n    }\n  }\n"]);return G=function(){return e},e}function B(){var e=Object(w.a)(["\n  mutation TokenAuth($password: String!, $email: String, $username: String) {\n    tokenAuth(password: $password, email: $email, username: $username) {\n      token\n      refreshToken\n      success\n      errors\n      user {\n        username\n        firstName\n        lastName\n        isStaff\n        verified\n      }\n    }\n  }\n"]);return B=function(){return e},e}var H=Object(d.gql)(B()),V=Object(d.gql)(G()),z=(Object(d.gql)(R()),Object(d.gql)(F())),U=Object(d.gql)(q()),Z=Object(d.gql)($()),Q=Object(d.gql)(L()),W=Object(d.gql)(D()),Y=Object(d.gql)(P()),X=Object(d.gql)(M()),J=Object(d.gql)(T()),K=Object(d.gql)(S()),ee=Object(d.gql)(x()),ae=Object(d.gql)(N()),te=Object(d.gql)(A());function ne(){var e=Object(w.a)(["\n  query Builds($first: Int, $last: Int) {\n    builds(first: $first, last: $last) {\n      edges {\n        node {\n          id\n          buildId\n          date\n          buildStatus\n          app {\n            id\n            name\n            customer {\n              id\n              username\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return ne=function(){return e},e}function re(){var e=Object(w.a)(["\n  query Client($id: ID!) {\n    user(id: $id) {\n      id\n      ...AccountBasicData\n      apps {\n        edges {\n          node {\n            id\n            name\n            logo\n            apiLink\n            storeLinks {\n              ios\n              android\n            }\n            builds {\n              edges {\n                node {\n                  id\n                  buildId\n                  date\n                  buildStatus\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return re=function(){return e},e}function le(){var e=Object(w.a)(["\n  query Clients($first: Int, $last: Int) {\n    users(first: $first, last: $last) {\n      edges {\n        node {\n          id\n          username\n          apps {\n            edges {\n              node {\n                id\n              }\n            }\n          }\n          accountStatus\n        }\n      }\n    }\n  }\n"]);return le=function(){return e},e}function oe(){var e=Object(w.a)(["\n  query Plans {\n    features {\n      id\n      name\n    }\n    plans {\n      edges {\n        node {\n          id\n          name\n          description\n          features {\n            id\n          }\n          planSet {\n            edges {\n              node {\n                id\n                stripeId\n                amount\n                interval\n                active\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return oe=function(){return e},e}function ce(){var e=Object(w.a)(["\n  query AppPayments($id: ID!) {\n    app(id: $id) {\n      id\n      paymentMethod {\n        id\n        stripeTestPublic\n        stripeTestSecret\n        stripeProdPublic\n        stripeProdSecret\n      }\n    }\n  }\n"]);return ce=function(){return e},e}function ie(){var e=Object(w.a)(["\n  query App($id: ID!) {\n    app(id: $id) {\n      id\n      name\n      color {\n        color\n        text\n      }\n      apiLink\n      template {\n        id\n      }\n      logo\n      builds {\n        edges {\n          node {\n            id\n            buildStatus\n          }\n        }\n      }\n      storeLinks {\n        ios\n        android\n      }\n    }\n  }\n"]);return ie=function(){return e},e}function de(){var e=Object(w.a)(["\n  query Templates {\n    templates {\n      edges {\n        node {\n          id\n          name\n          previewImg\n        }\n      }\n    }\n  }\n"]);return de=function(){return e},e}function ue(){var e=Object(w.a)(["\n  query MyAccount {\n    me {\n      id\n      ...AccountBasicData\n      apps {\n        edges {\n          node {\n            id\n            logo\n            name\n            storeLinks {\n              ios\n              android\n            }\n            builds {\n              edges {\n                node {\n                  id\n                  buildStatus\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return ue=function(){return e},e}function se(){var e=Object(w.a)(["\n  query MyPaymentMethods {\n    me {\n      id\n      customer {\n        id\n        defaultPaymentMethod {\n          id\n          card\n          billingDetails\n        }\n      }\n    }\n  }\n"]);return se=function(){return e},e}function me(){var e=Object(w.a)(["\n  fragment AccountBasicData on UserNode {\n    username\n    email\n    accountStatus\n    verified\n    isActive\n  }\n"]);return me=function(){return e},e}function pe(){var e=Object(w.a)(["\n  query Me {\n    me {\n      email\n      username\n      isStaff\n    }\n  }\n"]);return pe=function(){return e},e}var ve,Ee=Object(d.gql)(pe()),fe=Object(d.gql)(me()),he=Object(d.gql)(se()),be=Object(d.gql)(ue(),fe),ge=Object(d.gql)(de()),_e=Object(d.gql)(ie()),ye=Object(d.gql)(ce()),ke=Object(d.gql)(oe()),Oe=Object(d.gql)(le()),Ie=Object(d.gql)(re(),fe),Ce=Object(d.gql)(ne()),je=function(){return r.a.createElement("div",null,"Loading...")},we=Object(n.createContext)({}),Ae=function(){return Object(n.useContext)(we)},Ne={loading:!0,isAdmin:!1,isAuthenticated:!1};function xe(e,a){switch(a.type){case"LOADING":return Object(j.a)({},e,{loading:a.payload});case"ERROR":return Object(j.a)({},e,{errors:a.payload,loading:!1,isAuthenticated:!1});case"LOGIN":return a.payload.token&&(ve=a.payload.token.token),Object(j.a)({},e,{isAdmin:a.payload.isAdmin||!1,token:a.payload.token||e.token,loading:!1,isAuthenticated:!!a.payload.token||!!e.token});case"LOGOUT":return Object(j.a)({},Ne,{loading:!1});default:return e}}function Se(e){var a=JSON.parse(atob(e.split(".")[1]));return{token:e,expiry:a.exp}}var Te=function(e){var a=e.children,t=function(){var e=Object(n.useReducer)(xe,Ne),a=Object(C.a)(e,2),t=a[0],r=a[1],l=Object(d.useMutation)(H),o=Object(C.a)(l,1)[0],c=Object(d.useMutation)(V),i=Object(C.a)(c,1)[0],u=Object(d.useMutation)(U),s=Object(C.a)(u,1)[0],m=Object(d.useLazyQuery)(Ee,{onCompleted:function(e){var a=e.me;r({type:"LOGIN",payload:{isAdmin:null===a||void 0===a?void 0:a.isStaff}})}}),p=Object(C.a)(m,1)[0];function v(){var e=localStorage.getItem("yownesToken");e&&s({variables:{refreshToken:e},fetchPolicy:"no-cache"}).then((function(e){var a,t=e.data;if((null===t||void 0===t||null===(a=t.refreshToken)||void 0===a?void 0:a.success)&&t.refreshToken.token){var n=Se(t.refreshToken.token),l=1e3*n.expiry-(new Date).getTime();setTimeout(v,l),r({type:"LOGIN",payload:{token:n}}),p(),t.refreshToken.refreshToken&&localStorage.setItem("yownesToken",t.refreshToken.refreshToken)}else{var o;r({type:"ERROR",payload:null===t||void 0===t||null===(o=t.refreshToken)||void 0===o?void 0:o.errors})}}))}return Object(n.useEffect)((function(){localStorage.getItem("yownesToken")?v():r({type:"LOADING",payload:!1})}),[]),Object(j.a)({login:function(e){return o({variables:e}).then((function(e){var a,t=e.data;if((null===t||void 0===t||null===(a=t.tokenAuth)||void 0===a?void 0:a.success)&&t.tokenAuth.token){var n,l;t.tokenAuth.refreshToken&&localStorage.setItem("yownesToken",t.tokenAuth.refreshToken);var o=Se(t.tokenAuth.token);setTimeout(v,1e3*o.expiry-(new Date).getTime()),r({type:"LOGIN",payload:{token:o,isAdmin:null!==(n=null===(l=t.tokenAuth.user)||void 0===l?void 0:l.isStaff)&&void 0!==n&&n}})}else{var c;r({type:"ERROR",payload:null===t||void 0===t||null===(c=t.tokenAuth)||void 0===c?void 0:c.errors})}}))},logout:function(){localStorage.removeItem("yownesToken"),r({type:"LOGOUT"})},register:function(e){return i({variables:e}).then((function(e){var a,t,n=e.data;(null===n||void 0===n||null===(a=n.register)||void 0===a?void 0:a.success)&&n.register.token?(n.register.refreshToken&&localStorage.setItem("yownesToken",n.register.refreshToken),r({type:"LOGIN",payload:{token:Se(n.register.token)}})):r({type:"ERROR",payload:null===n||void 0===n||null===(t=n.register)||void 0===t?void 0:t.errors})}))}},t)}();return t.loading?r.a.createElement(je,null):r.a.createElement(we.Provider,{value:t},a)},Me=t(608),Pe=Me.a.Text,De=function(e){var a=e.message;return r.a.createElement(Pe,{type:"danger"},a)},Le=function(e){var a,t=e.errors,n=e.fields;return t?r.a.createElement("div",null,null===(a=t.nonFieldErrors)||void 0===a?void 0:a.map((function(e){return r.a.createElement(De,{key:e.code,message:e.message})})),n&&n.map((function(e){var a;return null===(a=t[e])||void 0===a?void 0:a.map((function(e){return r.a.createElement(De,{key:e.code,message:e.message})}))}))):null},$e=function(){var e=(Object(i.h)().state||{from:{pathname:"/"}}).from,a=Ae(),t=a.login,n=a.isAuthenticated,l=a.errors;return n?r.a.createElement(i.a,{to:e}):r.a.createElement(h,{image:"https://images.unsplash.com/photo-1593642634402-b0eb5e2eebc9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80"},r.a.createElement("div",null,r.a.createElement("h1",{className:O.a.centerText},"Bienvenido"),r.a.createElement(Le,{errors:l,fields:["email","password"]}),r.a.createElement(b.a,{onFinish:function(e){null===t||void 0===t||t({password:e.password,email:e.email})}},r.a.createElement(b.a.Item,{name:"email",rules:[{required:!0,message:"Introduce tu mail"},{type:"email"}]},r.a.createElement(_.a,{placeholder:"Mail"})),r.a.createElement(b.a.Item,{name:"password",rules:[{required:!0,message:"Introduce una contrase\xf1a"}]},r.a.createElement(_.a.Password,{placeholder:"Contrase\xf1a"})),r.a.createElement(c.b,{to:"/auth/password",className:O.a.rightAlign},"\xbfHa olvidado la contrase\xf1a?"),r.a.createElement("div",{className:O.a.buttons},r.a.createElement(y.a,{block:!0,type:"ghost"},r.a.createElement(c.b,{to:"/auth/register",style:{display:"block"}},"Crear Cuenta")),r.a.createElement(y.a,{block:!0,type:"primary",htmlType:"submit"},"Conectarse")))))},qe=t(181),Fe=function(){var e=(Object(i.h)().state||{from:{pathname:"/"}}).from,a=Ae(),t=a.register,n=a.isAuthenticated,l=a.errors;return n?r.a.createElement(i.a,{to:e}):r.a.createElement(h,{image:"https://images.unsplash.com/photo-1586244439413-bc2288941dda?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80"},r.a.createElement("div",null,r.a.createElement("h1",{className:O.a.centerText},"Crear una cuenta"),r.a.createElement(Le,{errors:l,fields:["email","password1","password2"]}),r.a.createElement(b.a,{onFinish:function(e){null===t||void 0===t||t({email:e.email,username:e.name,password1:e.password,password2:e.confirmPassword})}},r.a.createElement(b.a.Item,{name:"name",rules:[{required:!0,message:"Introduce tu nombre"},{min:2,message:"Introduce al menos dos caracteres"}]},r.a.createElement(_.a,{placeholder:"Nombre"})),r.a.createElement(b.a.Item,{name:"email",rules:[{required:!0,message:"Introduce tu mail"},{type:"email"}]},r.a.createElement(_.a,{placeholder:"Mail"})),r.a.createElement(b.a.Item,{name:"password",rules:[{required:!0,message:"Introduce una contrase\xf1a"},{min:8,message:"La contrase\xf1a debe contener al menos 8 caracteres"}]},r.a.createElement(_.a.Password,{placeholder:"Contrase\xf1a"})),r.a.createElement(b.a.Item,{name:"confirmPassword",rules:[{required:!0,message:"Las contrase\xf1as deben coincidir"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("Las contrase\xf1as deben coincidir"):Promise.resolve()}}}],dependencies:["password"]},r.a.createElement(_.a.Password,{placeholder:"Confirmar contrase\xf1a"})),r.a.createElement(b.a.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:function(e,a){return a?Promise.resolve():Promise.reject("Debes aceptar los T\xe9rminos y Condiciones")}}]},r.a.createElement(qe.a,null,"Acepto los ",r.a.createElement(c.b,{to:"/tos"},"T\xe9rminos y Condiciones"))),r.a.createElement("div",{className:O.a.buttons},r.a.createElement(y.a,{block:!0,type:"ghost"},r.a.createElement(c.b,{to:"/auth/login"},"Conectarse")),r.a.createElement(y.a,{block:!0,type:"primary",htmlType:"submit"},"Crear cuenta")))))},Re=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/auth/login"},r.a.createElement($e,null)),r.a.createElement(i.b,{path:"/auth/register"},r.a.createElement(Fe,null)),r.a.createElement(i.b,{path:"/auth/password"},r.a.createElement(I,null)))};var Ge=function(e){var a=e.children,t=Object(m.a)(e,["children"]),n=Ae().isAuthenticated;return r.a.createElement(i.b,Object.assign({},t,{render:function(e){var t=e.location;return n?a:r.a.createElement(i.a,{to:{pathname:"/auth/login",state:{from:t}}})}}))},Be=t(343),He=t.n(Be),Ve=function(){return r.a.createElement("div",{className:He.a.container},r.a.createElement("div",null,r.a.createElement(c.b,{to:"/clients"},"Clientes"),r.a.createElement(c.b,{to:"/builds"},"Builds")),r.a.createElement("div",null,r.a.createElement(_.a.Search,null)))},ze=t(615),Ue=t(361),Ze=t(219),Qe=t.n(Ze),We=function(e){var a=e.id,t=e.app,n=e.hasChanged,l=Object(d.useMutation)(W),o=Object(C.a)(l,1)[0],c=Object(d.useMutation)(Q),u=Object(C.a)(c,1)[0],s=Object(i.g)();return r.a.createElement("div",{className:Qe.a.container},r.a.createElement("div",{className:Qe.a.preview}),r.a.createElement("div",{className:Qe.a.buttons},r.a.createElement(ze.a,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"\xbfRealmente deseas eliminar la App?"),r.a.createElement("div",null,"Ser\xe1 retirada de la AppStore y PlayStore")),onConfirm:function(){o({variables:{id:a},update:function(e,t){var n,r=t.data;(null===r||void 0===r||null===(n=r.deleteApp)||void 0===n?void 0:n.ok)&&(e.evict({id:e.identify({__typename:"StoreAppType",__ref:a})}),e.gc(),Ue.b.success("La App ha sido eliminada correctamente"),s.replace("/profile"))}})}},r.a.createElement(y.a,{type:"primary",danger:!0},"Eliminar App")),n&&r.a.createElement(y.a,{type:"ghost",onClick:function(){var e=Object(j.a)({},t);"string"===typeof e.logo&&delete e.logo,u({variables:{id:a,data:e}})}},"Guardar cambios"),r.a.createElement(y.a,{type:"primary"},"Publicar App")))},Ye=Me.a.Title,Xe=Me.a.Text,Je=function(){var e,a,t=Object(d.useMutation)(Z),n=Object(C.a)(t,2),l=n[0],o=n[1],c=o.loading,i=o.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,{level:2},"Modificar contrase\xf1a"),r.a.createElement(Le,{errors:null===i||void 0===i||null===(e=i.passwordChange)||void 0===e?void 0:e.errors}),(null===i||void 0===i||null===(a=i.passwordChange)||void 0===a?void 0:a.success)&&r.a.createElement(Xe,{type:"success"},"Contrase\xf1a cambiada con \xe9xito"),r.a.createElement(b.a,{onFinish:function(e){l({variables:Object(j.a)({},e)})}},r.a.createElement(b.a.Item,{label:"Contrase\xf1a actual",name:"oldPassword",rules:[{required:!0}]},r.a.createElement(_.a.Password,null)),r.a.createElement(b.a.Item,{label:"Nueva contrase\xf1a",name:"newPassword1",rules:[{required:!0},{min:8}]},r.a.createElement(_.a.Password,null)),r.a.createElement(b.a.Item,{label:"Repetir nueva contrase\xf1a",name:"newPassword2",rules:[{required:!0},{min:8}]},r.a.createElement(_.a.Password,null)),r.a.createElement(b.a.Item,null,r.a.createElement(y.a,{htmlType:"submit",type:"primary",disabled:c,loading:c},"Cambiar contrase\xf1a"))))},Ke=t(117),ea=t.n(Ke),aa=t(220),ta=t.n(aa),na=t(214),ra=["#AF43BE","#FD8090","#C4FFFF","#08DEEA","#1261D1"],la=function(e){var a,t,n,l,o,c=e.value,i=e.onChange;return r.a.createElement("div",null,r.a.createElement(ea.a,{level:3},"Color"),r.a.createElement(ta.a,null,"Muestras de color:"),r.a.createElement("div",{style:{display:"flex",gap:15}},ra.map((function(e){return r.a.createElement(v,{color:e,onClick:function(){var a;return i({color:e,text:null!==(a=null===c||void 0===c?void 0:c.text)&&void 0!==a?a:"white"})},size:20})}))),r.a.createElement(ta.a,null,"Color seleccionado:"),r.a.createElement(_.a,{placeholder:"#333333",style:{width:150},value:null!==(a=null===c||void 0===c?void 0:c.color)&&void 0!==a?a:ra[0],onChange:function(e){var a;return i({color:e.target.value,text:null!==(a=null===c||void 0===c?void 0:c.text)&&void 0!==a?a:"white"})}}),r.a.createElement("div",null,r.a.createElement(v,{color:null!==(t=null===c||void 0===c?void 0:c.color)&&void 0!==t?t:ra[0],size:80})),r.a.createElement(ta.a,null,"Texto:"),r.a.createElement(na.a.Group,{name:"text",value:null!==(n=null===c||void 0===c?void 0:c.text)&&void 0!==n?n:"white",onChange:function(e){var a;i({color:null!==(a=null===c||void 0===c?void 0:c.color)&&void 0!==a?a:ra[0],text:e.target.value})}},r.a.createElement(na.a,{value:"white"},r.a.createElement("span",{style:{backgroundColor:null!==(l=null===c||void 0===c?void 0:c.color)&&void 0!==l?l:void 0,color:"white",padding:"1rem"}},"Blanco")),r.a.createElement(na.a,{value:"black"},r.a.createElement("span",{style:{backgroundColor:null!==(o=null===c||void 0===c?void 0:c.color)&&void 0!==o?o:void 0,color:"black",padding:"1rem"}},"Negro"))))},oa=t(107),ca=t(137),ia=t(217),da=t(618),ua=t(182),sa=t.n(ua),ma=function(e){var a=e.name,t=e.email,n=Ae().logout,l=r.a.createElement(ca.a,null,r.a.createElement(ca.a.Item,{key:"0"},r.a.createElement(c.b,{to:"/profile"},"Perfil")),r.a.createElement(ca.a.Divider,null),r.a.createElement(ca.a.Item,{onClick:function(){null===n||void 0===n||n()},key:"1"},"Cerrar sesi\xf3n"));return r.a.createElement("div",{className:sa.a.container},r.a.createElement("div",{className:sa.a.info},r.a.createElement("span",{className:sa.a.title},r.a.createElement(c.b,{to:"/profile"},a)),r.a.createElement("span",{className:sa.a.subtitle},t)),r.a.createElement(ia.a,{overlay:l,trigger:["click"]},r.a.createElement(y.a,{icon:r.a.createElement(da.a,null),shape:"circle"})))};ma.defaultProps={reverse:!1,editable:!1};var pa,va,Ea,fa=ma,ha=function(){var e,a,t=Object(i.i)(),l=Object(d.useMutation)(z),o=Object(C.a)(l,2),u=o[0],s=o[1],m=s.loading,p=s.data;return Object(n.useEffect)((function(){u({variables:{token:t.token}})}),[t.token,u]),m?r.a.createElement("div",null,"Verificando cuenta..."):r.a.createElement("div",null,(null===p||void 0===p||null===(e=p.verifyAccount)||void 0===e?void 0:e.success)&&r.a.createElement("h1",null,"Cuenta validada correctamente"),r.a.createElement(Le,{errors:null===p||void 0===p||null===(a=p.verifyAccount)||void 0===a?void 0:a.errors}),r.a.createElement(c.b,{to:"/profile"},r.a.createElement(y.a,null,"Volver al Perfil")))},ba=t(158),ga=t(97),_a=t(606);function ya(e){var a;return null!==(a=null===e||void 0===e?void 0:e.edges.map((function(e){return e.node})))&&void 0!==a?a:[]}function ka(e){var a,t;if(!e)return va.STALLED;var n=ya(e.builds);return null!==(a=null===(t=n[n.length-1])||void 0===t?void 0:t.buildStatus)&&void 0!==a?a:va.STALLED}!function(e){e.BANNED="BANNED",e.PAID_ACCOUNT="PAID_ACCOUNT",e.REGISTERED="REGISTERED",e.WAITING_PAYMENT="WAITING_PAYMENT"}(pa||(pa={})),function(e){e.GENERATING="GENERATING",e.PUBLISHED="PUBLISHED",e.QUEUED="QUEUED",e.STALLED="STALLED",e.UPLOADING="UPLOADING",e.WAITING="WAITING"}(va||(va={})),function(e){e.DAY="DAY",e.MONTH="MONTH",e.WEEK="WEEK",e.YEAR="YEAR"}(Ea||(Ea={}));var Oa=t(114),Ia=t.n(Oa),Ca=t(616),ja={STALLED:"default",QUEUED:"gold",GENERATING:"cyan",UPLOADING:"magenta",PUBLISHED:"green",WAITING:"orange"},wa=function(e){var a=e.state,t=ja[a];return r.a.createElement(Ca.a,{color:t},a)},Aa=t(619),Na=t(620),xa=t(621),Sa=t(344),Ta=t.n(Sa),Ma=function(e){var a=e.loading;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(Aa.a,null):r.a.createElement(Na.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload"))},Pa=function(e){var a=e.value,t=e.onChange,l=e.onDeleteClicked,o=Object(n.useState)({loading:!1}),c=Object(C.a)(o,2),i=c[0],d=c[1],u=Object(n.useRef)(null);return Object(n.useEffect)((function(){a&&"string"!==typeof a?function(e){var a=new FileReader;d(Object(j.a)({},i,{loading:!0})),a.onloadend=function(){d({loading:!1,file:a.result})},a.readAsDataURL(e)}(a):d(a&&"string"===typeof a?{loading:!1,file:a}:{loading:!1,file:null})}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("input",{type:"file",accept:"image/png",onChange:function(e){var a=e.target,n=a.validity,r=a.files;if(r&&n.valid){var l=Array.from(r),o=Object(C.a)(l,1)[0];null===t||void 0===t||t(o)}},hidden:!0,id:"fileupload"}),r.a.createElement("label",{ref:u,className:Ta.a.upload,htmlFor:"fileupload",onDragOver:function(e){return e.preventDefault()},onDragEnter:function(){u.current&&(u.current.style.borderColor="#a8a8a8")},onDragLeave:function(){u.current&&(u.current.style.borderColor="#d7d7d7")},onDrop:function(e){if(e.preventDefault(),e.dataTransfer.items){for(var a=0;a<e.dataTransfer.items.length;a++)if("file"===e.dataTransfer.items[a].kind){var n=e.dataTransfer.items[a].getAsFile();n&&(null===t||void 0===t||t(n))}}else for(var r=0;r<e.dataTransfer.files.length;r++){var l=e.dataTransfer.files[r];null===t||void 0===t||t(l)}}},a?r.a.createElement("img",{src:i.file,alt:"preview upload",style:{width:"100%",height:"100%",objectFit:"contain"}}):r.a.createElement(Ma,{loading:i.loading})),a&&r.a.createElement(ze.a,{title:"\xbfQueres eliminar el logo?",onConfirm:l},r.a.createElement(y.a,{icon:r.a.createElement(xa.a,null),danger:!0,onClick:l},"Eliminar Logo"))))},Da=Me.a.Paragraph,La=function(e){var a,t,n,l=e.app,o=e.id,c=e.data,i=e.onChange;return r.a.createElement("div",{className:Ia.a.info},r.a.createElement("div",{className:Ia.a.info__logo},r.a.createElement(Pa,{value:c.logo,onDeleteClicked:function(){i(Object(j.a)({},c,{logo:null}))},onChange:function(e){i(Object(j.a)({},c,{logo:e}))}})),r.a.createElement("h1",{className:Ia.a.info__appName},r.a.createElement(Da,{editable:{onChange:function(e){i(Object(j.a)({},c,{name:e}))}}},null!==(a=c.name)&&void 0!==a?a:"(Sin nombre)")),r.a.createElement("h2",{className:Ia.a.info__appId},o),r.a.createElement("div",{className:Ia.a.info__stores},(null===l||void 0===l||null===(t=l.storeLinks)||void 0===t?void 0:t.ios)&&r.a.createElement("a",{className:Ia.a.infoStores__link,href:l.storeLinks.ios},"iOS"),(null===l||void 0===l||null===(n=l.storeLinks)||void 0===n?void 0:n.android)&&r.a.createElement("a",{className:Ia.a.infoStores__link,href:l.storeLinks.android},"Android")),r.a.createElement("div",{className:Ia.a.info__state},r.a.createElement(wa,{state:ka(l)})))},$a=t(613),qa={REGISTERED:"default",WAITING_PAYMENT:"orange",PAID_ACCOUNT:"green",BANNED:"red"},Fa=function(e){var a=e.state,t=a||pa.REGISTERED,n=qa[t];return r.a.createElement(Ca.a,{color:n},a)},Ra=function(e){var a=e.profile,t=e.action;return r.a.createElement($a.a,{title:r.a.createElement(Me.a.Title,{level:2},"Informaci\xf3n de perfil"),layout:"vertical",size:"small",bordered:!0,extra:t,column:{md:2,xs:1,sm:2,lg:3}},(null===a||void 0===a?void 0:a.username)&&r.a.createElement($a.a.Item,{label:"Nombre de usuario"},a.username),(null===a||void 0===a?void 0:a.email)&&r.a.createElement($a.a.Item,{label:"Email"},a.email),(null===a||void 0===a?void 0:a.accountStatus)&&r.a.createElement($a.a.Item,{label:"Estado de la cuenta"},r.a.createElement(Fa,{state:a.accountStatus})))},Ga=t(221),Ba=t.n(Ga),Ha=function(e){var a=e.name,t=e.image;return r.a.createElement("div",{className:Ba.a.container},r.a.createElement("img",{className:Ba.a.image,src:t,alt:"Template preview for ".concat(a)}),r.a.createElement("span",{className:Ba.a.name},a))},Va=t(222),za=t.n(Va),Ua=Me.a.Title,Za=function(e){var a=e.title,t=e.action;return r.a.createElement("div",{className:za.a.container},r.a.createElement(Ua,{level:2},a),t&&(t.needsConfirmation?r.a.createElement(ze.a,{placement:"bottomRight",title:t.confirmationTitle||"Realmente deseas realizar esta acci\xf3n?",onConfirm:t.action},r.a.createElement("button",{className:za.a.action},t.label)):r.a.createElement("button",{className:za.a.action,onClick:t.action},t.label)))},Qa=t(223),Wa=t.n(Qa),Ya=function(e){var a=e.claim,t=e.image,n=e.cta;return r.a.createElement("div",{className:Wa.a.container},r.a.createElement("h2",{className:Wa.a.title},a),t&&r.a.createElement("img",{src:Wa.a.image,alt:"claim"}),r.a.createElement(c.b,{to:n.link},r.a.createElement(y.a,null,n.title)))},Xa=t(609),Ja=function(e){var a,t,n,l=e.appId,o=Object(d.useQuery)(ye,{variables:{id:l}}),c=o.data,i=o.loading,u=Object(d.useMutation)(Y),s=Object(C.a)(u,2),m=s[0],p=s[1].data;return i?r.a.createElement(je,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(ea.a,{level:2},"M\xe9todo de pago"),r.a.createElement(Xa.a,null,r.a.createElement(Xa.a.Panel,{key:"stripe",header:"Stripe"},r.a.createElement(b.a,{initialValues:null!==(a=null===c||void 0===c||null===(t=c.app)||void 0===t?void 0:t.paymentMethod)&&void 0!==a?a:void 0,onFinish:function(e){m({variables:{data:e,appId:l}})}},r.a.createElement(b.a.Item,{name:"stripeTestPublic",label:"Clave P\xfablica (test)"},r.a.createElement(_.a.Password,null)),r.a.createElement(b.a.Item,{name:"stripeTestSecret",label:"Clave Secreta (test)"},r.a.createElement(_.a.Password,null)),r.a.createElement(b.a.Item,{name:"stripeProdPublic",label:"Clave P\xfablica (producci\xf3n)"},r.a.createElement(_.a.Password,null)),r.a.createElement(b.a.Item,{name:"stripeProdSecret",label:"Clave Secreta (producci\xf3n)"},r.a.createElement(_.a.Password,null)),r.a.createElement(y.a,{htmlType:"submit"},"Actualizar claves de Stripe"),(null===p||void 0===p||null===(n=p.modifyPaymentMethodApp)||void 0===n?void 0:n.error)&&r.a.createElement("p",null,p.modifyPaymentMethodApp.error)))))};function Ka(e,a){var t,n,r,l,o;return!!a&&((null===(t=a.color)||void 0===t?void 0:t.color)===(null===(n=e.color)||void 0===n?void 0:n.color)&&(null===(r=a.color)||void 0===r?void 0:r.text)===(null===(l=e.color)||void 0===l?void 0:l.text)&&a.name===e.name&&(null===(o=a.template)||void 0===o?void 0:o.id)===e.template&&a.logo===e.logo)}var et={template:"VGVtcGxhdGVUeXBlOjE=",name:"(no name)",color:{color:"#0099cc",text:"white"},logo:null},at=function(){var e,a,t,l=Object(i.i)().appId,o=Object(n.useState)(et),c=Object(C.a)(o,2),u=c[0],s=c[1],m=Object(d.useLazyQuery)(_e),p=Object(C.a)(m,2),v=p[0],E=p[1],f=E.loading,h=E.data;return Object(n.useEffect)((function(){var e,a,t,n,r,l,o;(null===h||void 0===h?void 0:h.app)&&s({template:null===(e=h.app.template)||void 0===e?void 0:e.id,name:h.app.name,color:{color:null!==(a=null===(t=h.app.color)||void 0===t?void 0:t.color)&&void 0!==a?a:null===(n=et.color)||void 0===n?void 0:n.color,text:null!==(r=null===(l=h.app.color)||void 0===l?void 0:l.text)&&void 0!==r?r:null===(o=et.color)||void 0===o?void 0:o.text},logo:h.app.logo})}),[h]),Object(n.useEffect)((function(){l&&v({variables:{id:l}})}),[l,v]),!u||f?r.a.createElement(je,null):r.a.createElement("div",null,r.a.createElement(ba.a,{gutter:20},r.a.createElement(ga.a,{span:12},r.a.createElement(ba.a,null,r.a.createElement(La,{data:u,id:null===h||void 0===h||null===(e=h.app)||void 0===e?void 0:e.id,onChange:function(e){return s(e)},app:null!==(a=null===h||void 0===h?void 0:h.app)&&void 0!==a?a:void 0})),r.a.createElement(ba.a,null,r.a.createElement(ga.a,{span:24},r.a.createElement(_a.a,null,r.a.createElement(Za,{title:"Estilo"}),r.a.createElement(mn,{value:u.template,onChange:function(e){s((function(a){return Object(j.a)({},a,{template:e})}))}}),r.a.createElement(la,{value:u.color,onChange:function(e){s((function(a){return Object(j.a)({},a,{color:e})}))}}),r.a.createElement(Ja,{appId:l}))))),r.a.createElement(ga.a,{span:12},r.a.createElement(_a.a,null,r.a.createElement(We,{id:null===h||void 0===h||null===(t=h.app)||void 0===t?void 0:t.id,app:u,hasChanged:!Ka(u,null===h||void 0===h?void 0:h.app)})))))},tt=t(268),nt=t.n(tt),rt=t(346),lt=t(136),ot={style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},ct=function(){return r.a.createElement(ba.a,null,r.a.createElement(ga.a,{span:12},r.a.createElement("label",null,"Detalles de la tarjeta",r.a.createElement(_a.a,null,r.a.createElement(lt.CardElement,{options:ot})))))},it=t(347),dt=Me.a.Title,ut=Object(it.a)("pk_test_RG1KlTBaXWs8pCamCoLixIIu00FTwuG937"),st=function(e){var a=e.onCreated,t=Object(lt.useStripe)(),n=Object(lt.useElements)();return r.a.createElement(b.a,{validateMessages:{required:"El campo '${label}' es obligatorio"},onFinish:function(){var e=Object(rt.a)(nt.a.mark((function e(r){var l,o,c,i,d;return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:if(l=n.getElement(lt.CardElement)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.createPaymentMethod({type:"card",card:l,billing_details:{address:{city:r.city,country:r.country,line1:r.direction,state:r.state},email:r.email,name:"".concat(r.name," ").concat(r.surname)}});case 7:if(o=e.sent,c=o.error,i=o.paymentMethod,!c){e.next=14;break}console.log("[createPaymentMethod error]",c),e.next=18;break;case 14:if(d=null===i||void 0===i?void 0:i.id){e.next=17;break}return e.abrupt("return");case 17:a(d);case 18:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},r.a.createElement(ba.a,{gutter:[20,20]},r.a.createElement(ga.a,{span:24},r.a.createElement(ba.a,{gutter:[20,20]},r.a.createElement(ga.a,{span:24},r.a.createElement(_a.a,null,r.a.createElement(dt,{level:2},"Datos de Facturaci\xf3n"),r.a.createElement(ba.a,{gutter:[15,15]},r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(b.a.Item,{name:"name",rules:[{required:!0}],label:"Nombre"},r.a.createElement(_.a,{placeholder:"Nombre"}))),r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(b.a.Item,{name:"surname",rules:[{required:!0}],label:"Apellidos"},r.a.createElement(_.a,{placeholder:"Apellidos"})))),r.a.createElement(ba.a,{gutter:[15,15]},r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(b.a.Item,{name:"email",rules:[{required:!0}],label:"Email"},r.a.createElement(_.a,{placeholder:"Email",type:"email"}))),r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(b.a.Item,{name:"direction",rules:[{required:!0}],label:"Direcci\xf3n"},r.a.createElement(_.a,{placeholder:"Direcci\xf3n"})))),r.a.createElement(ba.a,{gutter:[15,15]},r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(b.a.Item,{name:"city",rules:[{required:!0}],label:"Ciudad"},r.a.createElement(_.a,{placeholder:"Ciudad"}))),r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(b.a.Item,{name:"state",rules:[{required:!0}],label:"Provincia"},r.a.createElement(_.a,{placeholder:"Provincia"})))),r.a.createElement(ba.a,{gutter:[15,15]},r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(b.a.Item,{name:"country",rules:[{required:!0}],label:"Pa\xeds"},r.a.createElement(_.a,{placeholder:"Pa\xeds"}))),r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(b.a.Item,{name:"documentId",label:"DNI - NIF"},r.a.createElement(_.a,{placeholder:"DNI - NIF"})))))),r.a.createElement(ga.a,{span:24},r.a.createElement(_a.a,null,r.a.createElement(dt,{level:2},"M\xe9todo de Pago"),r.a.createElement(ct,null))),r.a.createElement(ga.a,{span:24},r.a.createElement(y.a,{htmlType:"submit",type:"primary",size:"large"},"Crear m\xe9todo de pago"))))))},mt=function(e){return r.a.createElement(lt.Elements,{stripe:ut},r.a.createElement(st,e))},pt=Me.a.Title,vt=Me.a.Text,Et=function(e){var a,t,l=e.plan,o=Object(i.g)(),c=Object(n.useState)(),u=Object(C.a)(c,2),s=u[0],m=u[1],p=Object(d.useMutation)(ae),v=Object(C.a)(p,2),E=v[0],f=v[1].data;return r.a.createElement(ba.a,{gutter:[20,20]},r.a.createElement(ga.a,{sm:24,md:14},r.a.createElement(mt,{onCreated:m})),r.a.createElement(ga.a,{sm:24,md:10},r.a.createElement(ba.a,{gutter:[20,20]},r.a.createElement(ga.a,{span:24},r.a.createElement(_a.a,null,r.a.createElement(pt,{level:2},"Tu Pedido"),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(vt,{type:"secondary"},l.name),r.a.createElement(vt,{type:"secondary"},"Suscripci\xf3n de ",l.amount,"\u20ac al"," ",l.interval===Ea.MONTH?"mes":"a\xf1o")))),r.a.createElement(ga.a,{span:24},s&&r.a.createElement(y.a,{onClick:function(){E({variables:{paymentMethodId:s,planId:l.stripeId}}).then((function(e){var a,t,n=e.data;(null===n||void 0===n||null===(a=n.subscribe)||void 0===a?void 0:a.ok)?o.replace("/profile"):Ue.b.error(null===n||void 0===n||null===(t=n.subscribe)||void 0===t?void 0:t.error)}))},type:"primary",size:"large"},"Confirmar")),r.a.createElement(ga.a,{span:24},r.a.createElement(Le,{errors:{nonFieldErrors:(null===f||void 0===f||null===(a=f.subscribe)||void 0===a?void 0:a.error)?[{message:null===f||void 0===f||null===(t=f.subscribe)||void 0===t?void 0:t.error,code:"error"}]:void 0}})))))},ft=function(){var e=Object(i.h)().state;return e?r.a.createElement(Et,{plan:e}):r.a.createElement(i.a,{to:"/pay"})},ht=Me.a.Title,bt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ba.a,{gutter:[20,20]},r.a.createElement(ga.a,{span:24},r.a.createElement(_a.a,null,r.a.createElement(ht,{level:2},"Datos Personales"),r.a.createElement(ba.a,{gutter:[15,15]},r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(_.a,{placeholder:"Nombre"})),r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(_.a,{placeholder:"Apellidos"}))),r.a.createElement(ba.a,{gutter:[15,15]},r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(_.a,{placeholder:"Mail"})),r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(_.a,{placeholder:"Direcci\xf3n"}))),r.a.createElement(ba.a,{gutter:[15,15]},r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(_.a,{placeholder:"Ciudad"})),r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(_.a,{placeholder:"Pa\xeds"}))),r.a.createElement(ba.a,{gutter:[15,15]},r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(_.a,{placeholder:"Direcci\xf3n de facturaci\xf3n"})),r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(_.a,{placeholder:"DNI - NIF"}))))),r.a.createElement(ga.a,{span:24},r.a.createElement(_a.a,null,r.a.createElement(ht,{level:2},"M\xe9todo de Pago"))),r.a.createElement(ga.a,{span:24},r.a.createElement(_a.a,null,r.a.createElement(Je,null)))),r.a.createElement(ba.a,null,r.a.createElement(c.b,{to:"/profile"},r.a.createElement(y.a,{danger:!0},"Cancelar"))))},gt=function(){var e,a,t,l,o=window.__YOWNES_STORE_INFO__,c=Object(d.useMutation)(X),u=Object(C.a)(c,2),s=u[0],m=u[1],p=m.data,v=m.loading;return Object(n.useEffect)((function(){o&&s({variables:{data:{apiLink:o.link,name:o.name}}})}),[o]),(null===p||void 0===p||null===(e=p.createApp)||void 0===e?void 0:e.ok)?r.a.createElement(i.a,{to:"/app/".concat(null===(l=p.createApp.storeApp)||void 0===l?void 0:l.id)}):r.a.createElement(_a.a,null,r.a.createElement(b.a,{initialValues:{name:null===o||void 0===o?void 0:o.name,apiLink:null===o||void 0===o?void 0:o.link},onFinish:function(e){s({variables:{data:{apiLink:e.apiLink,name:e.name}}})}},r.a.createElement(b.a.Item,{name:"name",label:"Nombre de la app",rules:[{required:!0}]},r.a.createElement(_.a,null)),r.a.createElement(b.a.Item,{name:"apiLink",label:"Direcci\xf3n de la tienda",rules:[{required:!0}]},r.a.createElement(_.a,{disabled:Boolean(null===o||void 0===o?void 0:o.link),type:"url"})),r.a.createElement(b.a.Item,null,r.a.createElement(y.a,{type:"primary",htmlType:"submit",disabled:v,loading:v},v?"Comprobando...":"Comprobar"))),(null===o||void 0===o?void 0:o.link)&&!(null===p||void 0===p||null===(a=p.createApp)||void 0===a?void 0:a.ok)&&r.a.createElement("div",null,"Comprueba que la direcci\xf3n es correcta"),!(null===o||void 0===o?void 0:o.link)&&r.a.createElement("div",null,r.a.createElement("h2",null,"Instalaci\xf3n"),r.a.createElement("p",null,"Instala el plugin en tu plataforma de tienda online e introduce en la parte de arriba la direcci\xf3n web para comprobar que es accesible")),(null===p||void 0===p||null===(t=p.createApp)||void 0===t?void 0:t.error)&&r.a.createElement("span",null,p.createApp.error))},_t=t(207),yt=t(622),kt=t(623),Ot=t(605),It=t(617),Ct=t(348),jt=t.n(Ct),wt=Me.a.Text,At=Me.a.Title,Nt=function(e){var a=e.subtitle,t=e.title,n=e.plan;return r.a.createElement("div",{className:jt.a.container},r.a.createElement(wt,null,a),r.a.createElement(At,{level:2},t),r.a.createElement(At,{level:3},r.a.createElement(wt,{strong:!0},n.amount),"\u20ac/",n.interval===Ea.MONTH?"mes":"a\xf1o"),r.a.createElement(c.b,{to:{pathname:"/checkout",state:n}},r.a.createElement(y.a,{type:"primary"},"Seleccionar")),r.a.createElement(wt,{type:"secondary",style:{display:"block"}},"Precio con IVA incluido"))};function xt(e,a,t){var n=e.filter((function(e){return e.active})).find((function(e){return e.interval===a}));return n?Object(j.a)({},n,{name:t}):{__typename:"StripePlanType",amount:0,id:"-1",stripeId:"-1",interval:Ea.MONTH,name:t,active:!0}}function St(e,a,t){return void 0!==e.id}var Tt=function(){var e,a=Object(d.useQuery)(ke),t=a.data,l=a.loading,o=Object(n.useState)(Ea.MONTH),c=Object(C.a)(o,2),i=c[0],u=c[1];if(l)return r.a.createElement(je,null);var s=ya(null===t||void 0===t?void 0:t.plans),m=null===t||void 0===t||null===(e=t.features)||void 0===e?void 0:e.filter(St).map((function(e){var a=s.map((function(a){return Object(_t.a)({},a.id,a.features.map((function(e){return e.id})).includes(e.id))})).reduce((function(e,a){return Object(j.a)({},e,{},a)}),{});return Object(j.a)({},e,{},a)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot.a,{columns:[{title:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Cargo mensual: "),r.a.createElement(It.a,{checked:i===Ea.MONTH,onChange:function(e){u(e?Ea.MONTH:Ea.YEAR)}})),dataIndex:"name",fixed:"left"}].concat(Object(oa.a)(s.map((function(e,a){var t;return{title:r.a.createElement(Nt,{key:e.id,title:e.name,subtitle:null!==(t=e.description)&&void 0!==t?t:"-",plan:xt(ya(e.planSet),i,e.name)}),key:e.id,dataIndex:e.id,render:function(e,a,t){return e?r.a.createElement(yt.a,{style:{fontSize:20,color:"#00ec93"}}):r.a.createElement(kt.a,{style:{fontSize:20,color:"#dd0000"}})}}})))),pagination:!1,scroll:{x:1500,y:"40vh"},dataSource:m}))},Mt=function(){return r.a.createElement(_a.a,null,r.a.createElement(Tt,null))},Pt=t(611),Dt=t(35),Lt=t.n(Dt),$t={visa:{darkColor:Lt.a.limedark,lightColor:Lt.a.lime,icon:'<svg version="1.1" id="Layer_1" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="750px" height="471px" viewBox="0 0 750 471" enable-background="new 0 0 750 471" xml:space="preserve"><title>Slice 1</title><desc>Created with Sketch.</desc><g id="visa" sketch:type="MSLayerGroup"><path id="Shape" sketch:type="MSShapeGroup" fill="#0E4595" d="M278.198,334.228l33.36-195.763h53.358l-33.384,195.763H278.198L278.198,334.228z"/><path id="path13" sketch:type="MSShapeGroup" fill="#0E4595" d="M524.307,142.687c-10.57-3.966-27.135-8.222-47.822-8.222c-52.725,0-89.863,26.551-90.18,64.604c-0.297,28.129,26.514,43.821,46.754,53.185c20.77,9.597,27.752,15.716,27.652,24.283c-0.133,13.123-16.586,19.116-31.924,19.116c-21.355,0-32.701-2.967-50.225-10.274l-6.877-3.112l-7.488,43.823c12.463,5.466,35.508,10.199,59.438,10.445c56.09,0,92.502-26.248,92.916-66.884c0.199-22.27-14.016-39.216-44.801-53.188c-18.65-9.056-30.072-15.099-29.951-24.269c0-8.137,9.668-16.838,30.559-16.838c17.447-0.271,30.088,3.534,39.936,7.5l4.781,2.259L524.307,142.687"/><path id="Path" sketch:type="MSShapeGroup" fill="#0E4595" d="M661.615,138.464h-41.23c-12.773,0-22.332,3.486-27.941,16.234l-79.244,179.402h56.031c0,0,9.16-24.121,11.232-29.418c6.123,0,60.555,0.084,68.336,0.084c1.596,6.854,6.492,29.334,6.492,29.334h49.512L661.615,138.464L661.615,138.464z M596.198,264.872c4.414-11.279,21.26-54.724,21.26-54.724c-0.314,0.521,4.381-11.334,7.074-18.684l3.607,16.878c0,0,10.217,46.729,12.352,56.527h-44.293V264.872L596.198,264.872z"/><path id="path16" sketch:type="MSShapeGroup" fill="#0E4595" d="M232.903,138.464L180.664,271.96l-5.565-27.129c-9.726-31.274-40.025-65.157-73.898-82.12l47.767,171.204l56.455-0.064l84.004-195.386L232.903,138.464"/><path id="path18" sketch:type="MSShapeGroup" fill="#F2AE14" d="M131.92,138.464H45.879l-0.682,4.073c66.939,16.204,111.232,55.363,129.618,102.415l-18.709-89.96C152.877,142.596,143.509,138.896,131.92,138.464"/></g></svg>'},maestro:{darkColor:Lt.a.yellowdark,lightColor:Lt.a.yellow,icon:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="482.6" height="374.31" viewBox="0 0 482.6 374.31"> <title>maestro</title> <g> <path d="M278.8,421.77V397c0-9.35-6-15.64-15.55-15.72-5-.08-10.26,1.49-13.9,7-2.73-4.38-7-7-13.07-7a13.08,13.08,0,0,0-11.58,5.87v-4.88h-8.61v39.55h8.69V399.85c0-6.87,3.81-10.51,9.68-10.51,5.71,0,8.61,3.72,8.61,10.42v22h8.69V399.85c0-6.87,4-10.51,9.68-10.51,5.87,0,8.69,3.72,8.69,10.42v22ZM327.28,402V382.23h-8.61V387c-2.73-3.56-6.87-5.79-12.49-5.79-11.09,0-19.77,8.69-19.77,20.77s8.69,20.77,19.77,20.77c5.63,0,9.76-2.23,12.49-5.79v4.8h8.61Zm-32,0c0-6.95,4.55-12.66,12-12.66,7.12,0,11.91,5.46,11.91,12.66s-4.8,12.66-11.91,12.66C299.81,414.66,295.26,408.95,295.26,402ZM511.4,381.19a22.29,22.29,0,0,1,8.49,1.59,20.71,20.71,0,0,1,6.75,4.38,20,20,0,0,1,4.46,6.59,22,22,0,0,1,0,16.52,20,20,0,0,1-4.46,6.59,20.69,20.69,0,0,1-6.75,4.38,23.43,23.43,0,0,1-17,0,20.47,20.47,0,0,1-6.73-4.38,20.21,20.21,0,0,1-4.44-6.59,22,22,0,0,1,0-16.52,20.23,20.23,0,0,1,4.44-6.59,20.48,20.48,0,0,1,6.73-4.38A22.29,22.29,0,0,1,511.4,381.19Zm0,8.14a12.84,12.84,0,0,0-4.91.93,11.62,11.62,0,0,0-3.92,2.6,12.13,12.13,0,0,0-2.6,4,14.39,14.39,0,0,0,0,10.28,12.11,12.11,0,0,0,2.6,4,11.62,11.62,0,0,0,3.92,2.6,13.46,13.46,0,0,0,9.83,0,11.86,11.86,0,0,0,3.94-2.6,12,12,0,0,0,2.62-4,14.39,14.39,0,0,0,0-10.28,12,12,0,0,0-2.62-4,11.86,11.86,0,0,0-3.94-2.6A12.84,12.84,0,0,0,511.4,389.32ZM374.1,402c-.08-12.33-7.69-20.77-18.78-20.77-11.58,0-19.69,8.44-19.69,20.77,0,12.58,8.44,20.77,20.27,20.77,6,0,11.42-1.49,16.22-5.54l-4.22-6.37A18.84,18.84,0,0,1,356.4,415c-5.54,0-10.59-2.56-11.83-9.68h29.37C374,404.23,374.1,403.16,374.1,402Zm-29.45-3.47c.91-5.71,4.38-9.6,10.51-9.6,5.54,0,9.1,3.47,10,9.6Zm65.69-6.2A25.49,25.49,0,0,0,398,388.93c-4.72,0-7.53,1.74-7.53,4.63,0,2.65,3,3.39,6.7,3.89l4.05.58c8.61,1.24,13.82,4.88,13.82,11.83,0,7.53-6.62,12.91-18,12.91-6.45,0-12.41-1.66-17.13-5.13l4.05-6.7a21.07,21.07,0,0,0,13.16,4.14c5.87,0,9-1.74,9-4.8,0-2.23-2.23-3.47-6.95-4.14l-4.05-.58c-8.85-1.24-13.65-5.21-13.65-11.67,0-7.86,6.45-12.66,16.46-12.66,6.29,0,12,1.41,16.13,4.14Zm41.35-2.23H437.62V408c0,4,1.41,6.62,5.71,6.62a15.89,15.89,0,0,0,7.61-2.23l2.48,7.36a20.22,20.22,0,0,1-10.76,3.06c-10.18,0-13.73-5.46-13.73-14.65v-18h-8v-7.86h8v-12h8.69v12h14.06Zm29.78-8.85a18.38,18.38,0,0,1,6.12,1.08l-2.65,8.11a14,14,0,0,0-5.38-1c-5.63,0-8.44,3.64-8.44,10.18v22.17h-8.6V382.23H471V387a11.66,11.66,0,0,1,10.42-5.79Z" transform="translate(-132.9 -48.5)"/> <g id="_Group_" data-name="&lt;Group&gt;"> <rect x="176.05" y="31.89" width="130.5" height="234.51" fill="#7673c0"/> <path id="_Path_" data-name="&lt;Path&gt;" d="M317.24,197.64a148.88,148.88,0,0,1,57-117.26,149.14,149.14,0,1,0,0,234.51A148.88,148.88,0,0,1,317.24,197.64Z" transform="translate(-132.9 -48.5)" fill="#eb001b"/> <path d="M615.5,197.64A149.14,149.14,0,0,1,374.2,314.9a149.16,149.16,0,0,0,0-234.51A149.14,149.14,0,0,1,615.5,197.64Z" transform="translate(-132.9 -48.5)" fill="#00a1df"/> </g> </g></svg>'},mastercard:{darkColor:Lt.a.lightbluedark,lightColor:Lt.a.lightblue,icon:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="482.51" height="374" viewBox="0 0 482.51 374"> <title>mastercard</title> <g> <path d="M220.13,421.67V396.82c0-9.53-5.8-15.74-15.32-15.74-5,0-10.35,1.66-14.08,7-2.9-4.56-7-7-13.25-7a14.07,14.07,0,0,0-12,5.8v-5h-7.87v39.76h7.87V398.89c0-7,4.14-10.35,9.94-10.35s9.11,3.73,9.11,10.35v22.78h7.87V398.89c0-7,4.14-10.35,9.94-10.35s9.11,3.73,9.11,10.35v22.78Zm129.22-39.35h-14.5v-12H327v12h-8.28v7H327V408c0,9.11,3.31,14.5,13.25,14.5A23.17,23.17,0,0,0,351,419.6l-2.49-7a13.63,13.63,0,0,1-7.46,2.07c-4.14,0-6.21-2.49-6.21-6.63V389h14.5v-6.63Zm73.72-1.24a12.39,12.39,0,0,0-10.77,5.8v-5h-7.87v39.76h7.87V399.31c0-6.63,3.31-10.77,8.7-10.77a24.24,24.24,0,0,1,5.38.83l2.49-7.46a28,28,0,0,0-5.8-.83Zm-111.41,4.14c-4.14-2.9-9.94-4.14-16.15-4.14-9.94,0-16.15,4.56-16.15,12.43,0,6.63,4.56,10.35,13.25,11.6l4.14.41c4.56.83,7.46,2.49,7.46,4.56,0,2.9-3.31,5-9.53,5a21.84,21.84,0,0,1-13.25-4.14l-4.14,6.21c5.8,4.14,12.84,5,17,5,11.6,0,17.81-5.38,17.81-12.84,0-7-5-10.35-13.67-11.6l-4.14-.41c-3.73-.41-7-1.66-7-4.14,0-2.9,3.31-5,7.87-5,5,0,9.94,2.07,12.43,3.31Zm120.11,16.57c0,12,7.87,20.71,20.71,20.71,5.8,0,9.94-1.24,14.08-4.56l-4.14-6.21a16.74,16.74,0,0,1-10.35,3.73c-7,0-12.43-5.38-12.43-13.25S445,389,452.07,389a16.74,16.74,0,0,1,10.35,3.73l4.14-6.21c-4.14-3.31-8.28-4.56-14.08-4.56-12.43-.83-20.71,7.87-20.71,19.88h0Zm-55.5-20.71c-11.6,0-19.47,8.28-19.47,20.71s8.28,20.71,20.29,20.71a25.33,25.33,0,0,0,16.15-5.38l-4.14-5.8a19.79,19.79,0,0,1-11.6,4.14c-5.38,0-11.18-3.31-12-10.35h29.41v-3.31c0-12.43-7.46-20.71-18.64-20.71h0Zm-.41,7.46c5.8,0,9.94,3.73,10.35,9.94H364.68c1.24-5.8,5-9.94,11.18-9.94ZM268.59,401.79V381.91h-7.87v5c-2.9-3.73-7-5.8-12.84-5.8-11.18,0-19.47,8.7-19.47,20.71s8.28,20.71,19.47,20.71c5.8,0,9.94-2.07,12.84-5.8v5h7.87V401.79Zm-31.89,0c0-7.46,4.56-13.25,12.43-13.25,7.46,0,12,5.8,12,13.25,0,7.87-5,13.25-12,13.25-7.87.41-12.43-5.8-12.43-13.25Zm306.08-20.71a12.39,12.39,0,0,0-10.77,5.8v-5h-7.87v39.76H532V399.31c0-6.63,3.31-10.77,8.7-10.77a24.24,24.24,0,0,1,5.38.83l2.49-7.46a28,28,0,0,0-5.8-.83Zm-30.65,20.71V381.91h-7.87v5c-2.9-3.73-7-5.8-12.84-5.8-11.18,0-19.47,8.7-19.47,20.71s8.28,20.71,19.47,20.71c5.8,0,9.94-2.07,12.84-5.8v5h7.87V401.79Zm-31.89,0c0-7.46,4.56-13.25,12.43-13.25,7.46,0,12,5.8,12,13.25,0,7.87-5,13.25-12,13.25-7.87.41-12.43-5.8-12.43-13.25Zm111.83,0V366.17h-7.87v20.71c-2.9-3.73-7-5.8-12.84-5.8-11.18,0-19.47,8.7-19.47,20.71s8.28,20.71,19.47,20.71c5.8,0,9.94-2.07,12.84-5.8v5h7.87V401.79Zm-31.89,0c0-7.46,4.56-13.25,12.43-13.25,7.46,0,12,5.8,12,13.25,0,7.87-5,13.25-12,13.25C564.73,415.46,560.17,409.25,560.17,401.79Z" transform="translate(-132.74 -48.5)"/> <g> <rect x="169.81" y="31.89" width="143.72" height="234.42" fill="#ff5f00"/> <path d="M317.05,197.6A149.5,149.5,0,0,1,373.79,80.39a149.1,149.1,0,1,0,0,234.42A149.5,149.5,0,0,1,317.05,197.6Z" transform="translate(-132.74 -48.5)" fill="#eb001b"/> <path d="M615.26,197.6a148.95,148.95,0,0,1-241,117.21,149.43,149.43,0,0,0,0-234.42,148.95,148.95,0,0,1,241,117.21Z" transform="translate(-132.74 -48.5)" fill="#f79e1b"/> </g> </g></svg>'}},qt=function(e){var a,t,n,l,o,c,i=e.data,d=e.billing,u=i.replace(/None/g,"null").replace(/True/g,"true").replace(/False/g,"false").replace(/'/g,'"'),s=d.replace(/None/g,"null").replace(/True/g,"true").replace(/False/g,"false").replace(/'/g,'"'),m=JSON.parse(u),p=JSON.parse(s);return r.a.createElement("div",{className:Lt.a.creditcard},r.a.createElement("div",{className:Lt.a.front},r.a.createElement("div",{id:Lt.a.ccsingle,dangerouslySetInnerHTML:{__html:null===(a=$t[m.brand])||void 0===a?void 0:a.icon}}),r.a.createElement("svg",{viewBox:"0 0 750 471",id:Lt.a.cardfront},r.a.createElement("g",{id:"CardBackground"},r.a.createElement("g",{id:"amex_1_"},r.a.createElement("path",{className:"".concat(Lt.a.lightcolor," ").concat(null!==(t=null===(n=$t[m.brand])||void 0===n?void 0:n.lightColor)&&void 0!==t?t:Lt.a.grey),d:"M40 0h670c22.1 0 40 17.9 40 40v391c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V40C0 17.9 17.9 0 40 0z"}))),r.a.createElement("path",{className:"".concat(Lt.a.darkcolor," ").concat(null!==(l=null===(o=$t[m.brand])||void 0===o?void 0:o.darkColor)&&void 0!==l?l:Lt.a.greydark),d:"M750 431V193.2c-217.6-57.5-556.4-13.5-750 24.9V431c0 22.1 17.9 40 40 40h670c22.1 0 40-17.9 40-40z"}),r.a.createElement("text",{transform:"translate(60.106 295.012)",className:"".concat(Lt.a.st2," ").concat(Lt.a.st3," ").concat(Lt.a.st4)},"**** **** **** ".concat(m.last4)),r.a.createElement("text",{transform:"translate(54.106 428.172)",className:"".concat(Lt.a.st2," ").concat(Lt.a.st5," ").concat(Lt.a.st6)},null===p||void 0===p||null===(c=p.name)||void 0===c?void 0:c.toUpperCase()),r.a.createElement("text",{transform:"translate(54.107 389.88)",className:"".concat(Lt.a.st7," ").concat(Lt.a.st5," ").concat(Lt.a.st8)},"nombre"),r.a.createElement("text",{transform:"translate(479.775 388.88)",className:"".concat(Lt.a.st7," ").concat(Lt.a.st5," ").concat(Lt.a.st8)},"expira"),r.a.createElement("text",{transform:"translate(65.105 241.5)",className:"".concat(Lt.a.st7," ").concat(Lt.a.st5," ").concat(Lt.a.st8)},"n\xfamero de tarjeta"),r.a.createElement("text",{transform:"translate(574.422 433.81)",className:"".concat(Lt.a.st2," ").concat(Lt.a.st5," ").concat(Lt.a.st9)},"".concat(m.exp_month<10?"0".concat(m.exp_month):m.exp_month,"/").concat(m.exp_year.toString().match(/\d{2}$/))),r.a.createElement("text",{transform:"translate(479.385 417.01)",className:"".concat(Lt.a.st2," ").concat(Lt.a.st10," ").concat(Lt.a.st11)},"V\xc1LIDO"),r.a.createElement("text",{transform:"translate(479.385 435.676)",className:"".concat(Lt.a.st2," ").concat(Lt.a.st10," ").concat(Lt.a.st11)},"HASTA"),r.a.createElement("path",{className:Lt.a.st2,d:"M554.5 421l-14.1-6.8v13.7z"}),r.a.createElement("g",null,r.a.createElement("path",{d:"M168.1 143.6H82.9c-10.2 0-18.5-8.3-18.5-18.5V74.9c0-10.2 8.3-18.5 18.5-18.5h85.3c10.2 0 18.5 8.3 18.5 18.5v50.2c-.1 10.2-8.4 18.5-18.6 18.5z"}),r.a.createElement("path",{d:"M82 70h1.5v60H82zM167.4 70h1.5v60h-1.5zM125.5 130.8c-10.2 0-18.5-8.3-18.5-18.5 0-4.6 1.7-8.9 4.7-12.3-3-3.4-4.7-7.7-4.7-12.3 0-10.2 8.3-18.5 18.5-18.5S144 77.5 144 87.7c0 4.6-1.7 8.9-4.7 12.3 3 3.4 4.7 7.7 4.7 12.3-.1 10.2-8.3 18.5-18.5 18.5zm0-60c-9.3 0-16.9 7.6-16.9 16.9 0 4.4 1.7 8.6 4.8 11.8l.5.5-.5.5c-3.1 3.2-4.8 7.4-4.8 11.8 0 9.3 7.6 16.9 16.9 16.9s16.9-7.6 16.9-16.9c0-4.4-1.7-8.6-4.8-11.8l-.5-.5.5-.5c3.1-3.2 4.8-7.4 4.8-11.8 0-9.3-7.6-16.9-16.9-16.9z"}),r.a.createElement("path",{d:"M82.8 82.1h25.8v1.5H82.8zM82.8 117.9h26.1v1.5H82.8zM142.4 82.1h25.8v1.5h-25.8zM142 117.9h26.2v1.5H142z"})))))},Ft=function(){var e,a,t,l,o,c,i,u,s=Object(d.useQuery)(he),m=s.data,p=s.loading,v=Object(d.useMutation)(ee),E=Object(C.a)(v,1)[0],f=Object(n.useState)(!1),h=Object(C.a)(f,2),b=h[0],g=h[1];return p?r.a.createElement(je,null):r.a.createElement(ba.a,{gutter:20},r.a.createElement(ga.a,{span:24},r.a.createElement(ea.a,{level:2},"Tarjeta por defecto"),(null===m||void 0===m||null===(e=m.me)||void 0===e||null===(a=e.customer)||void 0===a?void 0:a.defaultPaymentMethod)&&r.a.createElement(qt,{data:null===m||void 0===m||null===(t=m.me)||void 0===t||null===(l=t.customer)||void 0===l||null===(o=l.defaultPaymentMethod)||void 0===o?void 0:o.card,billing:null===m||void 0===m||null===(c=m.me)||void 0===c||null===(i=c.customer)||void 0===i||null===(u=i.defaultPaymentMethod)||void 0===u?void 0:u.billingDetails})),r.a.createElement(ga.a,{span:24},r.a.createElement(y.a,{onClick:function(){return g(!0)}},"Cambiar Tarjeta")),r.a.createElement(Pt.a,{width:720,visible:b,onClose:function(){return g(!1)}},r.a.createElement(mt,{onCreated:function(e){E({variables:{paymentMethodId:e}})}})))},Rt=t(614),Gt=t(610),Bt=function(e){e.id;var a=e.confirmPassword,t=Object(n.useState)(),l=Object(C.a)(t,2),o=l[0],c=l[1],i=Object(d.useMutation)(J),u=Object(C.a)(i,1)[0],s=Ae().logout;return a?r.a.createElement("div",null,r.a.createElement(Le,{errors:o,fields:["password"]}),r.a.createElement(b.a,{onFinish:function(e){u({variables:{password:e.password}}).then((function(e){var a,t,n=e.data;(null===n||void 0===n||null===(a=n.deleteAccount)||void 0===a?void 0:a.success)?null===s||void 0===s||s():c(null===n||void 0===n||null===(t=n.deleteAccount)||void 0===t?void 0:t.errors)}))}},r.a.createElement(b.a.Item,{name:"password",label:"Confirmar contrase\xf1a para eliminar la cuenta"},r.a.createElement(_.a.Password,null)),r.a.createElement(y.a,{htmlType:"submit",type:"primary",danger:!0},"Confirmar eliminaci\xf3n de cuenta"))):null},Ht=t(153),Vt=t.n(Ht),zt=[{title:"Icono",dataIndex:"logo",key:"icon",render:function(e){return r.a.createElement("img",{src:e,alt:"",width:40,height:40,style:{objectFit:"contain"}})}},{title:"Nombre",dataIndex:"name",key:"name",render:function(e,a){return r.a.createElement(c.b,{to:"/app/".concat(a.id)},e)}},{title:"ID",dataIndex:"id",key:"id"},{title:"URLs",dataIndex:"storeLinks",key:"urls",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:e.ios},"iOS"),r.a.createElement("a",{href:e.android},"Android"))}},{title:"Estado",dataIndex:"builds",key:"state",render:function(e,a){return r.a.createElement(wa,{state:ka(a)})}}],Ut=function(e){var a=e.dataSource,t=e.columns,n=t?[].concat(zt,Object(oa.a)(t)):zt;return r.a.createElement(Vt.a,{columns:n,dataSource:ya(a)})},Zt=[{exact:!0,path:"/",redirect:"/profile"},{exact:!0,path:"/profile",name:"Perfil",component:function(){var e,a,t,l,o,u,s,m,p,v=Object(i.g)(),E=Object(n.useState)(!1),f=Object(C.a)(E,2),h=f[0],b=f[1],g=Object(n.useState)(!1),_=Object(C.a)(g,2),k=_[0],O=_[1],I=Object(d.useQuery)(be),j=I.loading,w=I.data,A=Object(d.useMutation)(te),N=Object(C.a)(A,1)[0];if(j)return r.a.createElement(je,null);var x=r.a.createElement(ca.a,null,r.a.createElement(ca.a.Item,null,r.a.createElement(c.b,{to:"/profile/edit"},"Editar")),r.a.createElement(ca.a.Item,null,r.a.createElement(c.b,{to:"/profile/paymentMethods"},"Cambiar m\xe9todo de pago")),r.a.createElement(ca.a.Divider,null),(null===w||void 0===w||null===(e=w.me)||void 0===e?void 0:e.accountStatus)===pa.PAID_ACCOUNT&&r.a.createElement(ca.a.Item,null,r.a.createElement(ze.a,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"\xbfRealmente deseas cancelar la suscripci\xf3n al servicio?"),r.a.createElement("p",null,"Todas las apps que tengas ser\xe1n eliminadas de las tiendas de aplicaciones")),placement:"left",onConfirm:function(){var e,a;(O(!1),null===w||void 0===w||null===(e=w.me)||void 0===e?void 0:e.id)&&N({variables:{userId:null===w||void 0===w||null===(a=w.me)||void 0===a?void 0:a.id}})}},r.a.createElement(Me.a.Text,{type:"danger"},"Cancelar suscripci\xf3n"))),r.a.createElement(ca.a.Item,null,r.a.createElement(ze.a,{title:"\xbfRealmente deseas eliminar la cuenta?",placement:"left",onConfirm:function(){b(!0),O(!1)}},r.a.createElement(Me.a.Text,{type:"danger"},"Eliminar cuenta")))),S=r.a.createElement(ia.a,{overlay:x,trigger:["click"],visible:k,onVisibleChange:O},r.a.createElement(y.a,{shape:"circle",icon:r.a.createElement(da.a,null)}));return r.a.createElement(r.a.Fragment,null,!(null===w||void 0===w||null===(a=w.me)||void 0===a?void 0:a.verified)&&r.a.createElement(ba.a,{gutter:[20,20]},r.a.createElement(ga.a,{span:24},r.a.createElement(Rt.a,{showIcon:!0,message:"Tu cuenta no est\xe1 validada todav\xeda",description:"Comprueba tu correo electr\xf3nico en busca del link de validaci\xf3n",type:"warning"}))),r.a.createElement(ba.a,{gutter:[20,20]},r.a.createElement(ga.a,{lg:12,xs:24},r.a.createElement(_a.a,null,r.a.createElement(Ra,{profile:null===w||void 0===w?void 0:w.me,action:S}),(null===w||void 0===w||null===(t=w.me)||void 0===t?void 0:t.accountStatus)===pa.REGISTERED&&r.a.createElement(Ya,{claim:"Suscr\xedbete para poder tener tu propia App",cta:{title:"Suscribirse",link:"/pay"}}))),r.a.createElement(ga.a,{lg:12,xs:24},r.a.createElement(_a.a,null,(null!==(l=null===w||void 0===w||null===(o=w.me)||void 0===o||null===(u=o.apps)||void 0===u?void 0:u.edges.length)&&void 0!==l?l:0)>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Za,{title:"Apps",action:{action:function(){return v.push("/app/new")},label:"A\xf1adir nueva"}}),r.a.createElement(Ut,{dataSource:null===w||void 0===w||null===(s=w.me)||void 0===s?void 0:s.apps})):r.a.createElement(Ya,{claim:"Crea tu primera App y empieza a vender",cta:{title:"A\xf1adir nueva app",link:"/app/new"}})))),r.a.createElement(Gt.a,{visible:h,title:"Eliminaci\xf3n de cuenta",onCancel:function(){b(!1)},okButtonProps:{style:{display:"none"}}},r.a.createElement(Bt,{id:null!==(m=null===w||void 0===w||null===(p=w.me)||void 0===p?void 0:p.id)&&void 0!==m?m:"",confirmPassword:h})))}},{exact:!0,path:"/profile/edit",name:"Editar Perfil",component:bt},{exact:!0,path:"/profile/paymentMethods",name:"Editar M\xe9todos de Pago",component:Ft},{exact:!0,path:"/pay",name:"Pago",component:Mt},{exact:!0,path:"/checkout",name:"Check Out",component:ft},{exact:!0,path:"/app/new",name:"Nueva App",component:gt},{exact:!1,path:"/app/:appId",name:"Editar App",component:at},{exact:!0,path:"/activate/:token",name:"Activar Cuenta",component:ha}],Qt=[{title:"Fecha",dataIndex:"date",key:"data",render:function(e){return e.toLocaleDateString()}},{title:"ID build",dataIndex:"id",key:"buildId"},{title:"Cliente",dataIndex:["app","client","name"],key:"client"},{title:"ID Cliente",dataIndex:["app","customer","id"],key:"clientId"},{title:"App",dataIndex:["app","name"],key:"app"},{title:"Estado",dataIndex:"buildStatus",key:"state",render:function(e){return r.a.createElement(wa,{state:e})}}],Wt=function(){var e=Object(d.useQuery)(Ce),a=e.loading,t=e.data;return a?r.a.createElement(je,null):r.a.createElement("div",null,r.a.createElement(Ot.a,{columns:Qt,dataSource:ya(null===t||void 0===t?void 0:t.builds)}))},Yt=[{title:"Name",dataIndex:"username",key:"name",render:function(e,a){return r.a.createElement(c.b,{to:"/clients/".concat(a.id)},e)}},{title:"ID Cliente",dataIndex:"id",key:"id",render:function(e){return r.a.createElement(c.b,{to:"/clients/".concat(e)},e)}},{title:"Apps",dataIndex:["apps","edges"],key:"apps",render:function(e){return e.length}},{title:"Estado",dataIndex:"accountStatus",key:"state",render:function(e){return r.a.createElement(Fa,{state:e})}}],Xt=function(){var e=Object(d.useQuery)(Oe),a=e.loading,t=e.data;return a?r.a.createElement(je,null):r.a.createElement("div",null,r.a.createElement(Vt.a,{columns:Yt,dataSource:ya(null===t||void 0===t?void 0:t.users)}))},Jt=[{title:"Fecha",dataIndex:"date",key:"data",render:function(e){return e.toLocaleDateString()}},{title:"ID build",dataIndex:"id",key:"buildId"},{title:"App",dataIndex:["app","name"],key:"app.name"},{title:"Estado",dataIndex:"buildStatus",key:"state",render:function(e){return r.a.createElement(wa,{state:e})}}],Kt=function(e){var a=e.dataSource;return r.a.createElement(Vt.a,{columns:Jt,dataSource:a})},en=Me.a.Text;function an(e){var a=ya(e),t=[];return a.forEach((function(e){var a,n=e.builds,r=e.name,l=e.id,o=null!==(a=ya(n).map((function(e){return Object(j.a)({},e,{app:{id:l,name:r}})})))&&void 0!==a?a:[];t.push.apply(t,Object(oa.a)(o))})),t}var tn=[{exact:!0,path:"/",redirect:"/clients"},{exact:!0,path:"/builds",name:"Builds",component:Wt},{exact:!0,path:"/clients",name:"Clientes",component:Xt},{exact:!0,path:"/clients/:id",name:"Cliente",component:function(){var e,a,t,l,o=Object(i.i)().id,c=Object(n.useState)(!1),u=Object(C.a)(c,2),s=u[0],m=u[1],p=Object(d.useQuery)(Ie,{variables:{id:o}}),v=p.loading,E=p.data,f=Object(d.useMutation)(W),h=Object(C.a)(f,1)[0],b=Object(d.useMutation)(K),g=Object(C.a)(b,1)[0],_=Object(d.useMutation)(te),k=Object(C.a)(_,1)[0];if(v)return r.a.createElement(je,null);var O=r.a.createElement(ca.a,null,r.a.createElement(ca.a.Item,null,r.a.createElement(ze.a,{title:(null===E||void 0===E||null===(e=E.user)||void 0===e?void 0:e.accountStatus)===pa.BANNED?"Est\xe1s seguro que deseas desbanear esta cuenta?":"Est\xe1s seguro que deseas banear esta cuenta?",onConfirm:function(){var e,a;(m(!1),null===E||void 0===E||null===(e=E.user)||void 0===e?void 0:e.id)&&g({variables:{userId:E.user.id,ban:(null===E||void 0===E||null===(a=E.user)||void 0===a?void 0:a.accountStatus)!==pa.BANNED},update:function(e,a){var t,n=a.data;(null===n||void 0===n||null===(t=n.banUser)||void 0===t?void 0:t.ok)&&e.modify({id:e.identify(Object(j.a)({},E.user)),fields:{accountStatus:function(e){return e===pa.BANNED?pa.REGISTERED:pa.BANNED}}})}})}},r.a.createElement(en,{type:"danger"},(null===E||void 0===E||null===(a=E.user)||void 0===a?void 0:a.accountStatus)===pa.BANNED?"Desbanear":"Banear Cuenta"))),r.a.createElement(ca.a.Item,null,r.a.createElement(ze.a,{title:"\xbfRealmente deseas eliminar la cuenta?",placement:"left",onConfirm:function(){m(!1),k({variables:{userId:o}})}},r.a.createElement(en,{type:"danger"},"Dar de baja la suscripci\xf3n")))),I=r.a.createElement(ia.a,{overlay:O,trigger:["click"],visible:s,onVisibleChange:m},r.a.createElement(y.a,{shape:"circle",icon:r.a.createElement(da.a,null)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ba.a,{style:{marginBottom:20}},r.a.createElement(ga.a,{sm:12,xs:24},r.a.createElement(_a.a,null,r.a.createElement(ba.a,{gutter:10},r.a.createElement(ga.a,{span:24},r.a.createElement(Ra,{profile:null===E||void 0===E?void 0:E.user,action:I})))))),r.a.createElement(ba.a,{gutter:20},r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(_a.a,null,r.a.createElement(Ut,{dataSource:null===E||void 0===E||null===(t=E.user)||void 0===t?void 0:t.apps,columns:[{title:"Acciones",key:"actions",render:function(e,a){return r.a.createElement(ze.a,{title:"\xbfQuieres eliminar esta app?",onConfirm:function(){h({variables:{id:a.id},update:function(e,t){var n,r=t.data;if(null===r||void 0===r||null===(n=r.deleteApp)||void 0===n?void 0:n.ok){var l=e.identify(Object(j.a)({},a));e.evict({id:l}),e.gc()}else{var o;Ue.b.error(null===r||void 0===r||null===(o=r.deleteApp)||void 0===o?void 0:o.error)}}})}},r.a.createElement(y.a,{danger:!0},r.a.createElement(xa.a,null)))}}]}))),r.a.createElement(ga.a,{md:12,sm:24},r.a.createElement(_a.a,null,r.a.createElement(Kt,{dataSource:an(null===E||void 0===E||null===(l=E.user)||void 0===l?void 0:l.apps)})))))}}],nn=t(352),rn=t.n(nn),ln=[].concat(Object(oa.a)(Zt),Object(oa.a)(tn)),on=function(){var e,a,t=Object(d.useQuery)(Ee).data,n=Object(i.h)(),l=ln.find((function(e){return e.path===n.pathname}));return l||(l=ln.filter((function(e){return/:\w+/.exec(e.path)})).map((function(e){var a=e.path.replace(/:\w+/,"");return Object(j.a)({},e,{path:a})})).find((function(e){return n.pathname.includes(e.path)}))),r.a.createElement("header",{className:rn.a.container},r.a.createElement(c.b,{to:"/"},r.a.createElement(s,null)),r.a.createElement(Me.a.Title,{level:2,style:{color:"#00ec93"}},r.a.createElement("span",{style:{color:"#333"}},">")," ",null===(e=l)||void 0===e?void 0:e.name),(null===t||void 0===t||null===(a=t.me)||void 0===a?void 0:a.email)&&r.a.createElement(fa,{email:t.me.email,name:t.me.username}))},cn=function(e){var a=e.routes;return r.a.createElement(i.d,null,a.map((function(e){return r.a.createElement(i.b,{key:e.path,exact:e.exact,path:e.path},e.redirect?r.a.createElement(i.a,{to:{pathname:e.redirect}}):e.component&&r.a.createElement(e.component,null))})))},dn=t(624),un=t(225),sn=t.n(un),mn=function(e){var a,t=e.value,n=e.onChange,l=Object(d.useQuery)(ge),o=l.loading,c=l.data;if(o)return r.a.createElement(je,null);var i=ya(null===c||void 0===c?void 0:c.templates);return r.a.createElement("div",{className:sn.a.container},r.a.createElement(ea.a,{level:3},"Plantilla"),r.a.createElement(na.a.Group,{value:null!==t&&void 0!==t?t:null===(a=i[0])||void 0===a?void 0:a.id,onChange:function(e){return n(e.target.value)},style:{overflowX:"scroll",display:"flex"}},i.map((function(e){var a,t;return r.a.createElement(na.a.Button,{value:e.id,key:e.id,style:{height:"auto"}},r.a.createElement(Ha,{name:null!==(a=e.name)&&void 0!==a?a:"",image:null!==(t=e.previewImg)&&void 0!==t?t:""}))}))),r.a.createElement("div",{className:sn.a.overlay},r.a.createElement("span",{className:sn.a.arrow},r.a.createElement(dn.a,{style:{fontSize:"16px",color:"#333"}}))))},pn=t(353),vn=t.n(pn),En=function(e){var a=e.children,t=e.header;return r.a.createElement(r.a.Fragment,null,r.a.createElement(on,null),t,r.a.createElement("main",{className:vn.a.main},a))},fn=function(){return r.a.createElement(cn,{routes:tn})},hn=function(){return r.a.createElement(cn,{routes:Zt})},bn=function(){var e=Ae().isAdmin;return r.a.createElement(En,{header:e?r.a.createElement(Ve,null):null},e?r.a.createElement(fn,null):r.a.createElement(hn,null))},gn=t(354),_n=t(355),yn=t(356),kn=new d.InMemoryCache({typePolicies:{BuildType:{fields:{date:{read:function(e){return new Date(e)}}}}}}),On=Object(gn.a)((function(e){var a=e.graphQLErrors,t=e.networkError;a&&a.forEach((function(e){var a=e.message,t=e.locations,n=e.path;console.log("[GraphQL error]: Message: ".concat(a,", Location: ").concat(t,", Path: ").concat(n))})),t&&console.log("[Network error]: ".concat(t))})),In=Object(yn.a)({uri:"http://localhost:8000/graphql"}),Cn=Object(_n.a)((function(e,a){var t=a.headers,n=ve;return{headers:Object(j.a)({},t,{authorization:n?"JWT ".concat(n):""})}})),jn=new d.ApolloClient({link:On.concat(Object(d.concat)(Cn,In)),cache:kn}),wn=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"T\xe9rminos y condiciones"))};var An=function(){return r.a.createElement(d.ApolloProvider,{client:jn},r.a.createElement(Te,null,r.a.createElement(c.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/auth"},r.a.createElement(Re,null)),r.a.createElement(i.b,{exact:!0,path:"/tos"},r.a.createElement(wn,null)),r.a.createElement(Ge,{path:"/"},r.a.createElement(bn,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(An,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[365,1,2]]]);
//# sourceMappingURL=main.9ab06502.chunk.js.map